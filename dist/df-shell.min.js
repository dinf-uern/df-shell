/*! df-shell 2016-01-20 */
angular.module("df.shell",["ngMaterial"]),angular.module("df.shell").provider("dfAuth",function(){var a={currentUser:null,login:function(a,b){this.currentUser={nomeCurto:a.split("@")[0],roles:["admin"]}},logout:function(){this.currentUser=null},createAccount:function(){},getRoles:function(){return this.currentUser?this.currentUser.roles:[]},hasRole:function(a){var b=!1,c=this;return a&&c.currentUser&&c.currentUser.roles&&(b=a.constructor===Array?_.intersection(a,c.currentUser.roles).length>0:c.currentUser.roles.indexOf(a)>=0),b}};this.$get=function(){return a}}),angular.module("df.shell").directive("dfButton",function(){var a={scope:{caption:"=",icon:"=",media:"=",action:"=",activeClass:"=",active:"=",dfClass:"=",hideDfSidenavs:"="},templateUrl:"src/df-button/df-button.html",controller:["$rootScope","$scope","$state","$mdMedia","$window","dfSidenav",function(a,b,c,d,e,f){function g(a){return _.intersection(a.split(" "),["md-fab","md-icon-button"]).length>0}b.isOnMedia=function(a){var b=!0;return a&&(b=a.constructor===Array?_.reduce(a,function(a,b){return a||d(b)},!1):d(a)),b},b.doAction=function(d){if(b.hideDfSidenavs&&f.hideAll(),!d)throw new Error("nenhuma ação foi definida!");d.state&&(d.params?c.go(d.state,d.params):c.go(d.state)),d.event&&a.$broadcast(d.event),d.exec&&d.exec(),d.link&&e.open(d.link,d.target)},b.showCaption=function(a,b){return!(a&&g(a))&&b},b.showIcon=function(a,b){return a&&g(a)&&b},b.getClasses=function(){var a=[];return a.push(b.dfClass),b.activeClass&&b.active&&a.push(b.activeClass),a.join(" ")}}]};return a}),angular.module("df.shell").directive("dfFloatActions",function(){var a={scope:{buttons:"="},templateUrl:"src/df-float-actions/df-float-actions.html",controller:["$rootScope","$scope","$state",function(a,b,c){}]};return a}),angular.module("df.shell").directive("dfMainMenu",function(){var a={scope:{menuLayout:"@"},templateUrl:"src/df-main-menu/df-main-menu.html",controller:["$scope","$state","dfMainMenu","dfSidenav",function(a,b,c,d){a.state=b,a.getItems=function(){return c.getItems()},a.goToState=function(a){},a.isActive=function(a){var c=!1;return a.action&&a.action.state&&b.includes(a.action.state)&&(c=!0),c}}]};return a}),angular.module("df.shell").provider("dfMainMenu",["dfAuthProvider",function(a){function b(){return function(a){if(!a.roles||0===a.roles.length)return!0;var b=_.intersection(a.roles,d.getRoles());return b&&b.length>0}}var c=[],d=a.$get();this.addItem=function(a){c.push(a)};var e={getItems:function(){return c.filter(b())}};this.$get=function(){return e}}]),angular.module("df.shell").factory("dfNotify",["$mdToast",function(a){var b={show:function(b){var c=a.simple().textContent(b);a.show(c)}};return b}]),angular.module("df.shell").run(["$templateCache",function(a){"use strict";a.put("src/df-button/df-button.html",'<div layout="column">\r\n    <md-button class="{{getClasses()}}" ng-click="doAction(action)" aria-label="caption" ng-show="isOnMedia(media)" flex>\r\n        <md-tooltip md-direction="bottom">{{caption}}</md-tooltip>\r\n        <span ng-show="showCaption(dfClass, caption)">{{caption}}</span>\r\n        <md-icon ng-show="showIcon(dfClass, icon)" md-svg-icon="{{icon}}"></md-icon>\r\n    </md-button>\r\n</div>\r\n'),a.put("src/df-float-actions/df-float-actions.html",'<div class="df-float-actions-container">\r\n  <div layout="row" layout-align="end end">\r\n    <div layout="column" class="df-float-actions">\r\n      <df-button df-class="item.class || \'md-fab md-accent md-hue-2\'" caption="item.caption" icon="item.icon" action="item.action" ng-repeat="item in buttons">\r\n      </df-button>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),a.put("src/df-main-menu/df-main-menu.html",'<div layout="{{menuLayout}}">\r\n  <df-button caption="item.caption" action="item.action" ng-repeat="item in getItems()" hide-df-sidenavs="true" active-class="\'md-accent md-hue-1\'" active="isActive(item)"></df-button>\r\n</div>'),a.put("src/df-sidenav/df-sidenav.html",'<div layout="column">\r\n    <md-sidenav class="md-whiteframe-z2" ng-class="{\'md-sidenav-left\': side !== \'right\', \'md-sidenav-right\': side === \'right\'}" md-component-id="getComponentId()" md-is-open="dfSidenav.showSidenav[side]" md-is-locked-open="isFixed()" flex>\r\n        <div ng-include="partialOnSmall" ng-if="partialOnSmall && isOnMedia(smallMedias)"></div>\r\n        <div ng-include="partialOnLarge" ng-if="partialOnLarge && isOnMedia(largeMedias)"></div>\r\n    </md-sidenav>\r\n</div>\r\n'),a.put("src/df-toolbar/df-toolbar-button.html",'<md-button class="md-icon-button" aria-label="{{src.title}}">\r\n    <md-icon md-svg-icon="{{src.icon}}"></md-icon>\r\n</md-button>'),a.put("src/df-toolbar/df-toolbar.html",'<df-button\r\n        df-class="btn.class || \'md-icon-button\'"\r\n        caption="btn.caption" action="btn.action"\r\n        icon="btn.icon" media="btn.media"\r\n        ng-repeat="btn in buttons">\r\n</df-button>\r\n'),a.put("src/df-topbar/df-topbar.html",'<md-toolbar class="md-primary md-whiteframe-z2">\r\n    <div class="md-toolbar-tools">\r\n        <df-toolbar buttons="leftButtons"></df-toolbar>\r\n        <img class="app-logo-gt-sm" ng-src="{{logoGtSm}}" ng-if="logoGtSm" hide show-gt-sm>\r\n        <img class="app-logo-sm" ng-src="{{logoSm || logoGtSm}}" ng-if="logoSm || logoGtSm" hide show-sm>\r\n        <span ng-if="!(logoSm || logoGtSm)">{{caption}}</span>\r\n        <df-main-menu layout="row" ng-if="isOnMedia(showMenuOnMedia)"></df-main-menu>\r\n        <div layout="row" ng-transclude>\r\n\r\n        </div>\r\n        <span flex></span>\r\n        <df-toolbar buttons="rightButtons"></df-toolbar>\r\n    </div>\r\n</md-toolbar>')}]),angular.module("df.shell").directive("dfSidenav",function(){var a={replace:!0,scope:{side:"@",smallMedias:"=",largeMedias:"=",partialOnSmall:"=",partialOnLarge:"=",fixedOnSmall:"=",fixedOnLarge:"="},templateUrl:"src/df-sidenav/df-sidenav.html",controller:["$scope","$mdMedia","dfSidenav",function(a,b,c){a.dfSidenav=c;var d=a.isOnMedia=function(a){var c=!1;return a&&(c=a.constructor===Array?_.reduce(a,function(a,c){return a||b(c)},!1):b(a)),c};a.isFixed=function(){return d(a.smallMedias)&&a.fixedOnSmall||d(a.largeMedias)&&a.fixedOnLarge},a.getComponentId=function(){return a.side}}]};return a}),angular.module("df.shell").factory("dfSidenav",["$mdSidenav",function(a){var b={sides:["left","right"],showSidenav:[],setup:function(){var a=this;this.sides.forEach(function(b){a.showSidenav[b]=!1})},toggle:function(a){this.showSidenav[a]=!this.showSidenav[a]},hideAll:function(){var a=this;this.sides.forEach(function(b){a.showSidenav[b]=!1})}};return b.setup(),b}]),angular.module("df.shell").directive("dfToolbarButton",function(){var a={scope:{src:"="},templateUrl:"df-shell/df-toolbar/df-toolbar-button.html"};return a}),angular.module("df.shell").directive("dfToolbar",function(){var a={scope:{buttons:"="},templateUrl:"src/df-toolbar/df-toolbar.html"};return a}),angular.module("df.shell").directive("dfTopbar",function(){var a={restrict:"E",transclude:!0,scope:{caption:"=",leftButtons:"=",rightButtons:"=",showMenuOnMedia:"=",logoSm:"=",logoGtSm:"="},templateUrl:"src/df-topbar/df-topbar.html",controller:["$scope","$mdMedia",function(a,b){a.isOnMedia=function(a){var c=!1;return a&&(c=a.constructor===Array?_.reduce(a,function(a,c){return a||b(c)},!1):b(a)),c}}]};return a});